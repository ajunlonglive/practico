function PCOJS_Base64Encode(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(b,c){return String.fromCharCode("0x"+c)}))}function PCOJS_CargarArchivoPCoder(m,a,b,l,j,c,g,d,p,f,i,h,o){if(m==""||typeof m=="undefined"){m=screen.width}if(a==""||typeof a=="undefined"){a=screen.height}var n=["width="+m,"height="+a,"location=no","menubar=no","resizable=yes","scrollbars=no","status=no","titlebar=no","toolbar=no","directories=0","directories=no","fullscreen=yes"].join(",");var k="";if(typeof b!="undefined"){k+="&PCODER_archivo="+b}if(typeof j!="undefined"){k+="&Origen_Archivo="+j}if(typeof c!="undefined"){k+="&Tabla_Archivo="+c}if(typeof g!="undefined"){k+="&Campo_Archivo="+g}if(typeof d!="undefined"){k+="&Llave_Registro="+d}if(typeof p!="undefined"){k+="&PCODER_extension="+p}if(typeof f!="undefined"){k+="&PCODER_ModoEditor="+f}if(typeof i!="undefined"){k+="&PCODER_TipoMenu="+i}if(typeof h!="undefined"){k+="&PCODER_EstadoSimple="+h}if(typeof o!="undefined"){k+="&PCODER_Titulo="+o}llave=PCOJS_Base64Encode(b);if(typeof b=="undefined"||b==""){llave=PCOJS_Base64Encode(c+"["+d+"]."+g)}let ExistenciaVentana=localStorage.getItem(""+llave);if(ExistenciaVentana!=""&&ExistenciaVentana!=null&&ExistenciaVentana!="null"){if(typeof l!="undefined"&&l!=""&&l=="Si"){parent.OperacionFS_CerrarModalAperturaArchivo()}window.open("javascript:void window.focus()",llave,n)}else{if(typeof l!="undefined"&&l!=""&&l=="Si"){parent.OperacionFS_CerrarModalAperturaArchivo()}var e=window.open("index.php?PCO_Accion=PCO_CargarObjeto&PCO_Objeto=frm:-33:0&Presentar_FullScreen=1&Precarga_EstilosBS=1&"+k,llave,n).focus();e.moveTo(0,0)}}function PCOJS_CargarArchivoPCoderFS(c,b,a,d){PCOJS_CargarArchivoPCoder(c,b,a,d,"","","","","","","","","")}function PCOJS_CargarArchivoPCoderBD(k,a,b,j,i,c,f,d,m,e,h,g,l){PCOJS_CargarArchivoPCoder(k,a,"",j,i,c,f,d,m,e,h,g,l)}function ver_navegacion_izquierda_flotante(){document.getElementById("barra_navegacion_izquierda").style.visibility="visible"}function ver_navegacion_izquierda_responsive(){document.getElementById("barra_navegacion_izquierda").style.visibility="visible";document.getElementById("page-wrapper").style.margin="0 0 0 250px"}function ocultar_navegacion_izquierda(){document.getElementById("barra_navegacion_izquierda").style.visibility="hidden";document.getElementById("page-wrapper").style.margin="0 0 0 0px"}function barra_navegacion_izquierda_toggle(a){if(document.getElementById("barra_navegacion_izquierda").style.visibility!="visible"){if(a!="flotante"){ver_navegacion_izquierda_responsive()}else{ver_navegacion_izquierda_flotante()}}else{ocultar_navegacion_izquierda()}}function PCOJS_OcultarBarraFlotanteIzquierda(){$("#wrapper").removeClass("toggled")}function PCOJS_VerBarraFlotanteIzquierda(){$("#wrapper").addClass("toggled")}function PCOJS_AlternarBarraFlotanteIzquierda(){$("#wrapper").toggleClass("toggled")}function PCOJS_ValidarTeclado(k,d,m){var b="0123456789."+m;var n="0123456789"+m;var h=" abcdefghijklmnñopqrstuvwxyzABCDEFGHIJKLMNÑOPQRSTUVWXYZ"+m;var l=n+h;var f=[8,9,13,33,34,35,36,37,38,39,40,45,46];switch(d){case"numerico":d=b;break;case"numerico_entero":d=n;break;case"alfabetico":d=h;break;case"alfanumerico":d=l;break;case"personalizado":d=m;break}var c=k||window.event;var e="";if(d==b||d==n){e=c.which||c.charCode}else{e=c.charCode||c.keyCode}var j=String.fromCharCode(e);var a=false;for(var g in f){if(e==f[g]){if(j==="."&&d==n){a=false}else{a=true}break}}return d.indexOf(j)!=-1||a}function PCO_ObtenerContenidoAjax(c,d,b){var a;var e="";if(window.XMLHttpRequest){a=new XMLHttpRequest()}else{a=new ActiveXObject("Microsoft.XMLHTTP")}a.onreadystatechange=function(){if(a.readyState===4&&a.status===200){e=a.responseText;e=e.trim();if(c==1){return e}}};if(c==1){a.open("POST",d,true)}else{a.open("POST",d,false)}a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(b);if(c==0){return e}}function PCOJS_StrReplace(busca_por,reemplaza_por,cadena_original){str=new String(cadena_original);rExp="/"+busca_por+"/g";rExp=eval(rExp);newS=String(reemplaza_por);str=new String(str.replace(rExp,newS));return str}function PCOJS_MostrarMensaje(c,a,b){$("#PCO_Modal_MensajeTitulo").html(c);$("#PCO_Modal_MensajeCuerpo").html(a);$("#PCO_Modal_Mensaje").removeClass();$("#PCO_Modal_Mensaje").addClass("modal");$("#PCO_Modal_Mensaje").addClass("fade");$("#PCO_Modal_Mensaje").addClass("oculto_impresion");if(b!=""){$("#PCO_Modal_Mensaje").addClass(b)}$("#PCO_Modal_Mensaje").modal("show");$("#PCO_Modal_Mensaje").css("z-index","1500")}function PCOJS_EstablecerPorcentajeProgreso(a){$("#PCO_Modal_MensajeCargandoPorcentaje").css("width",a+"%").attr("aria-valuenow",a)}function PCOJS_OcultarMensajeCargando(){$("#PCO_Modal_MensajeCargando").modal("hide");$("#PCO_Modal_MensajeCargando").hide()}function PCOJS_OcultarVentanaChat(){$("#Dialogo_Chat").modal("hide");$("#Dialogo_Chat").hide()}function PCOJS_MostrarMensajeCargando(c,b,a,d){$("#PCO_Modal_MensajeCargandoTitulo").html(c);$("#PCO_Modal_MensajeCargandoCuerpo").html(b);if(a!=1){$("#PCO_Modal_MensajeCargandoBotonCerrar").hide()}if(d>=0){PCOJS_EstablecerPorcentajeProgreso(d)}else{$("#PCO_Modal_MensajeCargandoBarra").hide();$("#PCO_Modal_MensajeCargandoPorcentaje").hide();$("#PCO_Modal_MensajeCargandoPorcentaje").attr("aria-hidden","true").hide()}$("#PCO_Modal_MensajeCargando").modal("show");$("#PCO_Modal_MensajeCargando").css("z-index","1500")}function PCOJS_MostrarMensajeCargandoSimple(a){$("#PCO_Modal_MensajeCargandoSimple").modal("show");$("#PCO_Modal_MensajeCargandoSimple").css("z-index","1500");if(a!=0){setTimeout(function(){PCOJS_OcultarMensajeCargandoSimple()},a)}}function PCOJS_OcultarMensajeCargandoSimple(){$("#PCO_Modal_MensajeCargandoSimple").modal("hide");$("#PCO_Modal_MensajeCargandoSimple").hide()}function PCOJS_ActualizarComboBox(b){var a=".combo-"+b;$(a).selectpicker("refresh")}function PCOJS_LimpiarComboBox(a){document.getElementById(a).options.length=0;PCOJS_ActualizarComboBox(a)}function PCOJS_AgregarOpcionComboBox(a,e,c){var d=document.getElementById(a);var b=document.createElement("option");b.value=e;b.text=c;d.add(b)}function PCOJS_OpcionesCombo_DesdeCSV(b,d,a){var c;ArregloOpciones=d.split(a);for(c in ArregloOpciones){PCOJS_AgregarOpcionComboBox(b,ArregloOpciones[c],ArregloOpciones[c])}PCOJS_ActualizarComboBox(b)}var PCOJS={};PCOJS.Geolocalizacion="";PCOJS.GeoLocalizar_Exito=function(b){var h="";var f=b.coords.latitude;var g=b.coords.longitude;var e=b.coords.altitude;var d=b.coords.accuracy;var c=b.coords.heading;var a=b.coords.speed;h=f+","+g+","+e+","+d+","+c+","+a;PCOJS.Geolocalizacion=h};PCOJS.GeoLocalizar_Error=function(a){var b="";switch(a.code){case a.PERMISSION_DENIED:b="GPS_DENEGADO";break;case a.POSITION_UNAVAILABLE:b="GPS_NOSERVICIO";break;case a.TIMEOUT:b="GPS_TIMEOUT";break;default:b="GPS_ERROR"}PCOJS.Geolocalizacion=b};PCOJS.GeoLocalizarUsuario=function(){var a="";if(navigator.geolocation){navigator.geolocation.getCurrentPosition(PCOJS.GeoLocalizar_Exito,PCOJS.GeoLocalizar_Error,{maximumAge:75000,timeout:15000})}else{a="GPS_SINSOPORTE";PCOJS.Geolocalizacion=a}};PCOJS.EsDispositivoMovil=function(){if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)){return true}else{return false}};PCOJS.GoogleMaps_DireccionPorCoordenadas=function(a,b){URLMaps="https://maps.googleapis.com/maps/api/geocode/json?address="+a+"&key="+b+"&language=es";ValorRecuperado=PCO_ObtenerContenidoAjax(0,URLMaps,"");return ValorRecuperado};function PCO_HTMLSpecialChars(a){return $("<span>").text(a).html()}function PCO_HTMLSpecialChars_Decode(b,f){var d=0,c=0,e=false;if(typeof f==="undefined"){f=2}b=b.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");var a={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};if(f===0){e=true}if(typeof f!=="number"){f=[].concat(f);for(c=0;c<f.length;c++){if(a[f[c]]===0){e=true}else{if(a[f[c]]){d=d|a[f[c]]}}}f=d}if(f&a.ENT_HTML_QUOTE_SINGLE){b=b.replace(/&#0*39;/g,"'")}if(!e){b=b.replace(/&quot;/g,'"')}b=b.replace(/&amp;/g,"&");return b}function CapturarCanvasPantallaAImagen(i,h,g,a,c,e,b){if(g==""){g="image/png"}if(i==""){i="wrapper"}if(h==""){h="document.body"}if(a==""||a==0){a=$(i).width()}if(c==""||c==0){c=$(i).height()}var f=document.getElementById(i);var d=document.getElementById(h);html2canvas(f,{onrendered:function(k){d.appendChild(k);ResultadoFinal=k;if(e!=""){var j=document.getElementById(b);ResultadoFinal=ResultadoFinal.toDataURL();j.value=ResultadoFinal;Formulario=document.getElementById(e);Formulario.submit()}},width:a,height:c})}function PCO_Canvas_SobrePagina1(){html2canvas(document.body).then(function(a){document.body.appendChild(a)})}function PCO_Canvas_SobrePagina2(){html2canvas(document.body,{onrendered:function(a){$("#page").hide();document.body.appendChild(a);window.print();$("canvas").remove();$("#page").show()}})}function PCO_Canvas_SobrePagina3(){html2canvas(document.body,{onrendered:function(a){$("#page").hide();document.getElementById("MarcoImpresionCanvas").appendChild(a);$("canvas").remove();$("#page").show()}})};