#[VersionCompatible]
#Utilice vacios para crear parches compatibles con cualquier version: Usado para tmp/par_compat.txt
VersionCompatibleAno=""
VersionCompatibleMes=""

#[VersionFinal]
#Utilice vacios para crear parches compatibles con cualquier version: Usado para inc/version_actual.txt
VersionFinalAno=""
VersionFinalMes=""

#[Archivo de version]
#Predeterminado: " inc/version_actual.txt "  DEJAR EN BLANCO para parches compatibles con cualquier version. Pero hay error de no reconocimiento.  Validar en actualizacion.php
ArchivoVersion=" inc/version_actual.txt "

#[ListaArchivos] Separados por espacio o salto de linea, se puede usar notacion core/* para incluir por ejemplo subcarpetas
ListaArchivos="
index.php
core/ajax.php
core/captcha.php
core/codigobarras.php
core/comunes.php
core/correos.php
core/doc_intro.php
core/marco_abajo.php
core/marco_arriba_bs.php
core/marco_conf.php
core/marco_forms.php
core/marco_nav.php
core/kanban.php
core/menus.php
core/objetos.php
core/sesion.php
core/usuarios.php

mod/pmydb/index.php
inc/ace/src-min-noconflict/*




xml/*
inc/practico/idiomas/*
inc/practico/def_basedatos.php
inc/bootstrap/js/practico*
inc/bootstrap/css/practico*
"
 
#[ArchivosObligatorios] Separados por espacio
ArchivosFijos=" tmp/par_cambios.txt tmp/par_sql.txt tmp/par_compat.txt tmp/leame.txt "

########################################################################
#[LogCambios] Usado para tmp/par_cambios.txt
#TOMAR CONTENIDO DESDE EL README
#Agregar un texto para parches sin version que al menos recomiende la minima:  SE RECOMIENDA APLICAR A UNA VERSION MINIMA DE xx.xx
LogCambios="
* Enhan [KANBAN]: El informe resumido de tableros Kanban tiene activado el soporte para datatables de manera que se pueda filtrar y ordenr rápidamente por algún criterio así como exportar su información.
* Added [CORE]: La consola de navegador presenta una advertencia cuando el usuario intenta abrirla para ejecutar alguna depuracion o comando.
* Fixed [KANBAN]: Ajuste de permisos para usuarios no desarrolladores Invitados a tableros Kanban
* Added [KANBAN]: Informe resumido de Tableros Kanban presenta columna con la cantidad de tareas activas.  Util para determinar en dónde hay pendientes.
* Added [KANBAN]: Las tareas se pueden ahora arrastrar entre columnas no sólo sobre sus títulos, sino sobre cualquier parte de la columna de destino.
* Added [MENUS]: Opciones de menu que hagan uso de URLs específicas pueden ahora reemplazar dinámicamente valores de cadenas en notación {$ VariablePHP} 
* Added [FORMS]: Los controles de formulario cuentan ahora con marcos antes y despues que permiten agregar información complementaria dinamicamente al control.  Los nombres de esos marcos son PCOPre_IDELEMENTO y PCOPos_IDELEMENTO donde IDELEMENTO es el valor definido como id del tag html correspondiente.
* Added [CORE]: Todos los scrips JS en formularios y eventos de controles en formularios pueden tomar valores de variables PHP en notacion {$ Variable}.  Tenga en cuenta que la variable PHP _Debe_ que estar definida en el contexto en que se hace llamado a la funcion JS para que ésta la pueda reconocer y agregar a su código, en caso contrario serán reemplazadas por una cadena vacía.
* Enhan [AUDIT]: Mejorada la maquetacion general del módulo de auditorías y distribución responsive en informes de auditoria para permitir visualizar claramente eventos de auditoría extensos como resultados de queries o similares.
* Added [CORE]: Nuevas funciones PCO_Minimizador_OptimizarJS y PCO_Minimizador_OptimizarCSS permiten optimizar codigos JavaScript y CSS antes de ser entregados al usuario, aumentando la velocidad de carga y ayudando al ocultamiento (en parte) de la logica de negocio.
* Added [USUARIOS]: La adición de usuarios ahora se hace mediante un objeto interno, eliminando el còdigo asociado en el archivo con funciones de usuarios.
* Added [USUARIOS]: Se permite a los usuarios de plataforma cargar una fotografía para su perfil.  Tener en cuenta que la carpeta mod/fileman/cargas/practico_usuarios será utilizada para alojar los archivos.
* Added [USUARIOS]: Agregados campos de personalizacion por usuario que permite seleccionar su paleta de color, idioma por defecto y avatar o imagen de perfil.  Cualquier operación que se tenga relacionada con adición de usuarios en el núcleo del framework (core_usuario) debería ser revisada para cumplir con los nuevos campos.
* Added [CORE]: Soporte de modo oscuro, noche o de ahorro de energía por inversion de paletas de colores. Se incluye posibilidad de inversión, escalas de grises y sepias como paletas alternativas.
* Enhan [CORE]: Formulario de base para informes y transporte de datos ahora no ocupa espacio en pantalla para mejorar estética de maquetación.
* Enhan [CORE]: Mejorado rendimiento en tablas de chat para organizaciones con usuarios cuyo uso es frecuente.
* Enhan [CORE]: Reemplazado PMyDB 20.3 por Adminer 4.8.0
* Enhan [PCODER]: Actualizacion Ace 1.4.9 a 1.4.12
* Enhan [PCODER]: Eliminacion workers innecesarios
* Enhan [CORE]: Se eliminan tipos de proveedor de despacho de correo innecesarios como SendGrid.  En adelante despachos por proveedores de correo de este tipo pueden ser configurados directamente enlazando el SMTP del servidor mediante credenciales, SASL o API con el servicio del proveedor o mediante intervención directa de las funciones de envío.
* Enhan [CORE]: Realizadas optimizaciones generales de codigo en diferentes modulos
* Enhan [CORE]: Script empaquetador de parches incluye ahora la generación automática de los scripts de PHP a ser ejecutados automáticamente en cada aplicación de actualizaciones.
* Added [CORE]: Los usuarios pueden activar/desactivar a través de la edición de su perfil los modos de inversión o modo noche en sus aplicaciones según decisión del administrador de plataforma.
* Enhan [CORE]: Rutina de importacion de definiciones XML ahora deshabilita el tiempo de ejecucion del Script PHP (set_time_limit) para garantizar que todas las definiciones son importadas cuando se trata de una cantidad grande de archivos y se supera los tiempos de ejecucion del servidor.
* Fixed [CORE]: Eliminadas advertencias innecesarias del tipo -Notice: Undefined offset- en offsets o posiciones de arreglo inexistentes para la generacion de titulos de informes desde consulta o arbitrarios. 

"


########################################################################
#[ScriptBasedatos] Usado para tmp/par_sql.txt
ScriptBasedatos="
ALTER TABLE `core_usuario` ADD `transformacion_colores` varchar(15) COLLATE 'utf8_general_ci' NOT NULL DEFAULT '' COMMENT 'vacio|inverso|grises|sepia';

ALTER TABLE `core_chat` ADD INDEX `destinatario` (`destinatario`);

ALTER TABLE `core_usuario` ADD `id` int(11) NOT NULL AUTO_INCREMENT UNIQUE FIRST;

ALTER TABLE `core_usuario`
ADD `idioma` varchar(5) COLLATE 'utf8_general_ci' NOT NULL DEFAULT '',
ADD `avatar` varchar(255) COLLATE 'utf8_general_ci' NOT NULL DEFAULT '' AFTER `idioma`;

INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('dicotomico_habilitadodeshabilitado', '1', '{ $ MULTILANG_Habilitado}', '1');
INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('dicotomico_habilitadodeshabilitado', '0', '{ $ MULTILANG_Deshabilitado}', '2');
INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('dicotomico_deshabilitadohabilitado', '0', '{ $ MULTILANG_Deshabilitado}', '1');
INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('dicotomico_deshabilitadohabilitado', '1', '{ $ MULTILANG_Habilitado}', '2');

INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('tipos_filtrocolor', '', 'Sin cambios - predeterminado (None - default)', '1');
INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('tipos_filtrocolor', 'inverso', 'Inverso para modos dia y noche - (Inverted)', '2');
INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('tipos_filtrocolor', 'grises', 'Escala de grises (Grayscale)', '3');
INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('tipos_filtrocolor', 'sepia', 'Tonos Sepia (Sepia)', '4');

INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('idiomas_plataforma', '',   '{ $ MULTILANG_Predeterminado}', '0');
INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('idiomas_plataforma', 'es', 'Espanol - Spanish (es.php)', '1');
INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('idiomas_plataforma', 'en', 'Ingles - English (en.php)', '2');
INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('idiomas_plataforma', 'hi', 'हिंदी - Hindi (by GoogleTranslato (hi.php)', '3');
INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('idiomas_plataforma', 'fr', 'Frances - French (by GoogleTranslator) (fr.php)', '4');
INSERT INTO `core_opcionlista` (`identificador_lista`, `valor_interno`, `valor_visual`, `ordenamiento`) VALUES ('idiomas_plataforma', 'pt', 'Português - Portuguese (by GoogleTranslator) (pt.php)', '5');

UPDATE core_opcionlista SET valor_visual = REPLACE(valor_visual, '{ $ ', '{$');
UPDATE core_opcionlista SET valor_interno = REPLACE(valor_interno, '{ $ ', '{$');
"

########################################################################
#[ScriptPHPAutorun] Usado para generar script en PHP xml/autorun_patch.php en generacion de parches solo se permiten comillas sencillas
ScriptPHPAutorun="
<?php
    // Si existe el directorio de instalacion y no es modo fullscreen presenta un mensaje constante de advertencia en el escritorio
    PCO_Mensaje('Autorun - Scripts PHP', 'Ejecutando archivos /xml/*.php (S&oacute;lo una vez)', '', 'fa fa-info-circle fa-3x', 'alert alert-info alert-dismissible');

    //Ejecuta operaciones
    $CreacionCargas=true;
    $CreacionPracticoUsuarios=true;
    $CreacionIndex=true;
    if (file_exists('mod/fileman/cargas')==false)        
        {
            $CreacionCargas=mkdir('mod/fileman/cargas',0777);
            chmod ( 'mod/fileman/cargas' , 0777 );
        }
    if (file_exists('mod/fileman/cargas/practico_usuarios')==false)             
        {
            $CreacionPracticoUsuarios=mkdir('mod/fileman/cargas/practico_usuarios',0777);
            chmod ( 'mod/fileman/cargas/practico_usuarios' , 0777 );
        }
    if (file_exists('mod/fileman/cargas/practico_usuarios/index.html')==false)
        {
            $CreacionIndex=touch('mod/fileman/cargas/practico_usuarios/index.html');
            chmod ( 'mod/fileman/cargas/practico_usuarios/index.html' , 0777 );
        }
        
    //Si encuentra errores presenta aviso al administrador
    if($CreacionCargas!=true)
        PCO_Mensaje('Autorun - Error', 'No se pudo crear carpeta mod/fileman/cargas automaticamente.  Usted debe crearla manualmente en su servidor<br>Este mensaje se presentar&aacute; una &uacute;nica vez, por favor tome nota y antes de recargar el sitio.', '', 'fa fa-danger fa-2x', 'alert alert-danger alert-dismissible');
    if($CreacionPracticoUsuarios!=true)
        PCO_Mensaje('Autorun - Error', 'No se pudo crear carpeta mod/fileman/cargas/practico_usuarios automaticamente.  Usted debe crearla manualmente en su servidor<br>Este mensaje se presentar&aacute; una &uacute;nica vez, por favor tome nota y antes de recargar el sitio.', '', 'fa fa-danger fa-2x', 'alert alert-danger alert-dismissible');
    if($CreacionIndex!=true)
        PCO_Mensaje('Autorun - Error', 'No se pudo crear archivo mod/fileman/cargas/practico_usuarios/index.html automaticamente.  Usted debe crearlo manualmente (vacio) en su servidor<br>Este mensaje se presentar&aacute; una &uacute;nica vez, por favor tome nota y antes de recargar el sitio.', '', 'fa fa-danger fa-2x', 'alert alert-danger alert-dismissible');

"

########################################################################
#[TODO] No es usado por ningun proceso, solo un control de lo inmediatamente pendiente
TODOList="
Usar el hash sumando todos los permisos de un usuario para ver si el crc32 da diferente de lo que tiene a la plantilla entonces lo asigne o regenere.
"