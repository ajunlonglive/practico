#[VersionCompatible]
#Utilice vacios para crear parches compatibles con cualquier version: Usado para tmp/par_compat.txt
VersionCompatibleAno="19"
VersionCompatibleMes="1"

#[VersionFinal]
#Utilice vacios para crear parches compatibles con cualquier version: Usado para inc/version_actual.txt
VersionFinalAno=""
VersionFinalMes=""

#[Archivo de version]
#Predeterminado: " inc/version_actual.txt "  DEJAR EN BLANCO para parches compatibles con cualquier version. Pero hay error de no reconocimiento.  Validar en actualizacion.php
ArchivoVersion=" inc/version_actual.txt "

#[ListaArchivos] Separados por espacio o salto de linea, se puede usar notacion core/* para incluir por ejemplo subcarpetas
ListaArchivos="
index.php
core/comunes.php
core/formularios.php
core/marco_abajo.php
core/marco_arriba.php
core/marco_arriba_bs.php
core/marco_nav.php
core/monitoreo.php
core/monitoreo_superior.php
core/sesion.php
inc/bootstrap/css/plugins/select/*
inc/bootstrap/js/plugins/select/*
mod/pmydb/*
inc/ace/*
xml/*
inc/practico/idiomas/*
inc/practico/def_basedatos.php
inc/bootstrap/js/practico*
inc/bootstrap/css/practico*
inc/practico_se/*
"
 
#[ArchivosObligatorios] Separados por espacio
ArchivosFijos=" tmp/par_cambios.txt tmp/par_sql.txt tmp/par_compat.txt tmp/leame.txt "

########################################################################
#[LogCambios] Usado para tmp/par_cambios.txt
#TOMAR CONTENIDO DESDE EL README
#Agregar un texto para parches sin version que al menos recomiende la minima:  SE RECOMIENDA APLICAR A UNA VERSION MINIMA DE xx.xx
LogCambios="
*IMPORTANTE:*  Quienes actualizan desde versiones 18.8 requiere que se aplique a éstas el último parche de actualización de dicha versión (Practico_18.8-Actualizacion_002) que las convierte a versión 18.9.

LEAME: ADVERTENCIA: Para quienes actualizan desde versiones previas con el fin de evitar colisiones y estandarizar la llamada de acciones internas, las siguientes acciones han cambiado de nombre:
Accion autenticacion_oauth cambia a PCO_AutenticacionOauth  Esto puede implicar cambiar sus API de redireccion con los proveedores asociados.
Funcion enviar_correo cambia a PCO_EnviarCorreo

* Added: [FORMS] La personalizacion de tags soporta ahora parámetros que requieran espacios encerrados por comillas dobles.
* Added: [FORMS] Controles de tipo checkbox convertidos a boton tipo toggle mediante personalización de Tag soportan ahora traducción de variables en notacion PHP {$} para multiples idiomas y otros usos.
* Added: [FORMS] Durante la adicion de formularios embebidos se permite realizar busqueda sobre la lista para proyectos con gran cantidad de formularios.
* Added: [FORMS] Ahora se permite establecer el tipo de maquetacion para columnas de formularios como tradicional (Tablas HTML) o responsive (Cols de bootstrap) lo que permite hcaer más fluido y responsive el contenido diagramado para ciertos dispositivos.  Esto permitirá convertir de manera automática maquetaciones tradicionales a otras más fluidas y responsives.
* Added: [FORMS] Para cada columna de formulario se permite definir su clase para aplicación de estilos CSS y responsive.  Cuando el número de clases especificadas es menor al número de columnas éstas serán aplicadas en orden y la última será utilizada para aplicar a las columnas restantes permitiendo definir una sola cadena de clases para formularios con múltiples columnas.
* Added: [MONIT] Los monitores tipo máquina sobre el sistema de monitoreo soportan ahora un modo Ultra compacto que consume sólo una unidad de la rejilla; pero que se expande automáticamente a modo compacto cuando el monitor está caído para facilitar su visualización.
* Added: [MONIT] El sistema de monitoreo permite intercambiar entre pantallas fullscreen o normal mediante botón en su barra superior.
* Added: [CRON] Agregado modulo que permite generar planificacion de tareas.
* Fixed: [MONIT] Error de tipado en variable de página recurrente.
* Enhan: [FORMS] Llamado de funciones personalizadas u bjetos internos desde formularios se hace ahora a través de la función de validación de campos de formularios para unificar su uso con los botones de almacenamiento y actualización de datos.
* Enhan: [FORMS] Automáticamente en cada llamado al framework se hace la reasignación de variables que provienen de listas múltiples a sus variables estandar para su uso de manera tradicional.
* Enhan: [FORMS] La opción para definición de scripts de un formulario es elimnada desde su creación.  Esto ahorra espacio en diseño; pero seguirá estando disponible a través del diseño detallado de formulario pues una vez creado es que generalmente se definen comportamientos extra.
* Enhan: [FORMS] Mejorada aun mas la velocidad de carga de los controles tipo lista bajo version 1.6.5 haciendo render anticipado del control.
* Enhan: [FORMS] Reducción de código en módulo de formularios por cambio a formulario dinámico
* Enhan: [LIBS]  Cambio de version en libreria select-boostrap de  version 1.12.4 a 1.6.5
* Enhan: [LIBS] Se valida la previa instalacion/disponibilidad de la extension mbstring de PHP sobre el servidor.
* Enhan: [AUDIT] Redistribucion de elementos en auditoria.
* Enhan: [GRAL] Agregado enlace al proyecto SayThanks.
* Enhan: [GRAL] Agregado enlace al chat de desarrolladores en Gitter para facilitar interacción.
* Enhan: [GRAL] Limpieza de algunas advertencias para variables de sesion e idioma no definidas.
* Enhan: [GRAL] Actualizada versión de PMyDB a 19.1 incluyendo entre otras, las siguientes mejoras: automcompletacion de atributos en login, compatibilidad con Clickhouse, SQLite oculta el servidor al login, permitir deshabilitación de campos booleanos en postgresql, permitir almacenar queries en favoritos, permitir agregar más de dos índices en campos foráneaos al tiempo, evitar sobreescribir tablas existentes durante copias, se incremente el login a maximo 80 caracteres, permite que las tablas se puedan desplazar horizontalmente, corrige índices descendentes, reconoce disparadores ON UPDATE en funciones current_timestamp(), otros.
* Enhan: [GRAL] Actualizada versión de PCoder a 19.2 incluyendo entre otras, las siguientes mejoras: agregados atajos de teclas de sublime, agregada la opción de rtl, corregidas las opciones de regrsión para vim, mejorada la captura de eventos de teclado para internet explorer y ipads, nuevos elementos de resaltado de sintaxis, se remueve el uso de innerhtml, se agrega soporte para números de líneas relativas, se mejora el sistema de popups de autocompletacion, se usa css para la animación del cursor, otros.
* Enhan: [GRAL] Se eliminan pruebas automatizadas de Travis para la máquina HHVM
* Enhan: [VIEW] Ajustes a presentacion de imagenes de fondo
* Enhan: [VIEW] Actualizacion del logo de plataforma
* Fixed: [FORMS] Cuando se trate de campos no existentes dentro de la base de datos asociada al formulario, no se intentará hacer una carga del dato desde el registro pues siempre será vacío.
* Fixed: [INFORMES] Asignacion automática de formularios de filtrado derivados del mismo ID de informe.
* Enhan: [INFORMES] Ampliada la longitud del campo de descripcion para los informes.
* Added: [SESION] Ahora por defecto la autenticacion de la plataforma se hace mediante comparacion directa con las tablas de sistema.  Si se desea activar el modo heredado o anterior de servicios web internos se puede utilizar la variable Auth_MotorWS=1 en el archivo de configuracion

"

########################################################################
#[ScriptBasedatos] Usado para tmp/par_sql.txt
# RECORDAR EN OPCIONES MULTI-IDIOMA:  UPDATE core_opcionlista SET valor_visual = REPLACE(valor_visual, '{ $ ', '{$');
ScriptBasedatos="
UPDATE core_menu SET seccion='PCO_NoVisible' WHERE seccion='_NO_APLICA_';
DELETE FROM core_opcionlista;
INSERT INTO core_opcionlista (id, identificador_lista, valor_interno, valor_visual, ordenamiento) VALUES
(1,	'tipos_grafico',	'T',	'{ $ MULTILANG_TablaDatos}',	1),
(2,	'tipos_grafico',	'G',	'{ $ MULTILANG_Grafico}',	2),
(3,	'dicotomico_sino',	'S',	'{ $ MULTILANG_Si}',	1),
(4,	'dicotomico_sino',	'N',	'{ $ MULTILANG_No}',	2),
(5,	'dicotomico_nosi',	'N',	'{ $ MULTILANG_No}',	1),
(6,	'dicotomico_nosi',	'S',	'{ $ MULTILANG_Si}',	2),
(7,	'visibilidad_oauth',	'0',	'{ $ MULTILANG_OauthOpcionBoton}',	1),
(8,	'visibilidad_oauth',	'1',	'{ $ MULTILANG_OauthOpcionDirecta}',	2),
(12,	'motores_bd',	'pgsql',	'PostgreSQL',	2),
(11,	'motores_bd',	'mysql',	'MySQL - MariaDB (3.x/4.x/5.x)',	1),
(13,	'motores_bd',	'sqlite',	'SQLite v2 - SQLite v3',	3),
(14,	'motores_bd',	'sqlsrv',	'FreeTDS/Microsoft SQL Server: Win32 [max version 2008]',	4),
(15,	'motores_bd',	'mssql',	'FreeTDS/Microsoft SQL Server: Win32&Linux, [max version 2000]',	5),
(16,	'motores_bd',	'ibm',	'IBM (DB2)',	6),
(17,	'motores_bd',	'dblib',	'DBLIB',	7),
(18,	'motores_bd',	'odbc',	'Microsoft Access (ODBC v3: IBM DB2, unixODBC, Win32 ODBC)',	8),
(19,	'motores_bd',	'oracle',	'ORACLE (OCI Oracle Call Interface)',	9),
(20,	'motores_bd',	'ifmx',	'Informix (IBM Informix Dynamic Server)',	10),
(21,	'motores_bd',	'fbd',	'Firebird (Firebird/Interbase 6)',	11),
(22,	'booleano_nosi',	'0',	'{ $ MULTILANG_No}',	1),
(23,	'booleano_nosi',	'1',	'{ $ MULTILANG_Si}',	2),
(24,	'booleano_sino',	'1',	'{ $ MULTILANG_Si}',	1),
(25,	'booleano_sino',	'0',	'{ $ MULTILANG_No}',	2),
(26,	'tipo_monitor',	'{ $ MULTILANG_Deshabilitado}',	'{ $ MULTILANG_Deshabilitado}',	1),
(27,	'tipo_monitor',	'Etiqueta',	'{ $ MULTILANG_Etiqueta}',	2),
(28,	'tipo_monitor',	'Maquina',	'{ $ MULTILANG_Maquina}',	3),
(29,	'tipo_monitor',	'ComandoShell',	'{ $ MULTILANG_MonCommShell}',	4),
(30,	'tipo_monitor',	'ComandoSQL',	'{ $ MULTILANG_MonCommSQL}',	5),
(31,	'tipo_monitor',	'Imagen',	'{ $ MULTILANG_Imagen}',	6),
(32,	'tipo_monitor',	'Embebido',	'{ $ MULTILANG_Embebido}',	7),
(33,	'tipo_monitor',	'SensorRango',	'{ $ MULTILANG_MonSensorRango}',	8),
(34,	'tipo_monitor',	'SensorMaquina',	'{ $ MULTILANG_MonSensorRango} ({ $ MULTILANG_Apariencia} { $ MULTILANG_Maquina})',	9),
(35,	'metodos_monitor',	'socket',	'Socket',	1),
(36,	'metodos_monitor',	'ping',	'Ping',	2),
(37,	'metodos_monitor',	'curl:1',	'cURL (HTTP 01 sec. Timeout)',	3),
(38,	'metodos_monitor',	'curl:3',	'cURL (HTTP 03 sec. Timeout)',	4),
(39,	'metodos_monitor',	'curl:5',	'cURL (HTTP 05 sec. Timeout)',	5),
(40,	'metodos_monitor',	'curl:10',	'cURL (HTTP 10 sec. Timeout)',	6),
(41,	'metodos_monitor',	'curl:15',	'cURL (HTTP 15 sec. Timeout)',	7),
(42,	'metodos_monitor',	'curl:30',	'cURL (HTTP 30 sec. Timeout)',	8),
(43,	'opciones_menu',	'opc',	'{ $ MULTILANG_Opcion}',	1),
(44,	'opciones_menu',	'grp',	'{ $ MULTILANG_Agrupador}',	2),
(45,	'destino_menu',	'_self',	'{ $ MULTILANG_MnuTgtSelf}',	1),
(46,	'destino_menu',	'_blank',	'{ $ MULTILANG_MnuTgtBlank}',	2),
(47,	'destino_menu',	'_parent',	'{ $ MULTILANG_MnuTgtParent}',	3),
(48,	'destino_menu',	'_top',	'{ $ MULTILANG_MnuTgtTop}',	4),
(49,	'comando_menu',	'Objeto',	'1. { $ MULTILANG_MnuObjeto}',	1),
(50,	'comando_menu',	'Interno',	'2. { $ MULTILANG_MnuInterno}',	2),
(51,	'comando_menu',	'Personal',	'3. { $ MULTILANG_MnuPersonal}',	3),
(54,	'motores_bd',	'---------------',	'-------------------------------------- NoSQL -------------------------------------',	12),
(55,	'motores_bd',	'couchbase',	'CouchBase',	13),
(56,	'modo_monitor',	'0',	'{ $ MULTILANG_No}',	1),
(57,	'modo_monitor',	'1',	'{ $ MULTILANG_Si}',	2),
(58,	'modo_monitor',	'2',	'Ultra',	3),
(59,	'tipos_maquetacion',	'tradicional',	'{ $ MULTILANG_FrmTradicional}',	1),
(60,	'tipos_maquetacion',	'responsive',	'Responsive',	2),
(61,	'estilos_pestanas',	'nav-tabs',	'{ $ MULTILANG_FrmEstiloTabs}',	1),
(62,	'estilos_pestanas',	'nav-pills',	'{ $ MULTILANG_FrmEstiloPills}',	2),
(63,	'estilos_pestanas',	'',	'{ $ MULTILANG_FrmEstiloOculto}',	3);


UPDATE core_opcionlista SET valor_visual = REPLACE(valor_visual, '{ $ ', '{$');
UPDATE core_opcionlista SET valor_interno = REPLACE(valor_interno, '{ $ ', '{$');

ALTER TABLE core_informe ADD tooltip_titulo char(1) DEFAULT 'N';

ALTER TABLE core_informe CHANGE descripcion descripcion text;

ALTER TABLE core_formulario ADD tipo_maquetacion varchar(11) NULL DEFAULT 'tradicional';
ALTER TABLE core_formulario ADD css_columnas text;

DROP TABLE IF EXISTS core_tareascron;
CREATE TABLE core_tareascron (
  id int(10) NOT NULL AUTO_INCREMENT,
  titulo varchar(255),
  fecha_creacion date,
  codigo_tarea varchar(255),
  script_php text,
  habilitado int(1),
  historial_ejecucion text,
  PRIMARY KEY (id)
) DEFAULT CHARSET=utf8 COLLATE=utf8_general_ci;

"

########################################################################
#[TODO] No es usado por ningun proceso, solo un control de lo inmediatamente pendiente
TODOList="

"